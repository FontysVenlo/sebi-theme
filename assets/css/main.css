@tailwind base;
@tailwind components;
@tailwind utilities;
@tailwind variants;

.highlight:hover .code-copy {
    display: block;
}

.hljs {
    background-color: transparent !important;
}

.highlight {
    position: relative;
}

@layer utilities {
    .max-w-8xl {
        max-width: 90rem;
    }

    .max-w-half {
        max-width: 50%;
    }

    .red {
        @apply text-red-500;
    }

    .blue {
        @apply text-blue-700 dark:text-sky-400;
    }

    .right {
        @apply float-right;
    }

    .left {
        @apply float-left;
    }

    .prose :where(code):not(:where([class~="not-prose"] *))::before {
        content: '';
    }

    .prose :where(code):not(:where([class~="not-prose"] *))::after {
        content: '';
    }

    .prose :where(code):not(:where([class~="not-prose"] *)) {
        @apply bg-gray-300 dark:bg-gray-900 dark:text-gray-300 text-gray-800 py-1 px-2 rounded font-normal;
    }

    .sect1 + #footnotes {
        hr {
            @apply hidden;
        }
    }
}

@layer components {
    #toc {
        #toc-title {
            @apply hidden;
        }

        .toc-list.level-1 {
            @apply space-y-6 lg:space-y-2 border-l border-gray-100 dark:border-gray-700 text-sm;
            a {
                @apply font-normal block border-l pl-4 -ml-px border-transparent hover:border-slate-400 dark:hover:border-slate-500 text-slate-700 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-300;
            }
        }

        .toc-list.level-2 {
            @apply space-y-6 lg:space-y-2 py-2;

            a {
                @apply pl-8 text-slate-600 hover:text-slate-800 dark:text-slate-500 dark:hover:text-slate-400;
            }
        }
    }

    .image-block {
        @apply px-4 my-2 text-center;

        &.thumb{
            @apply lg:max-w-md md:max-w-sm sm:max-w-full;
        }

        > img {
            @apply shadow-md dark:shadow-slate-900 mx-auto my-3;
        }

        .svg-wrapper {
            @apply inline-block;

            img {
                @apply m-0;
            }            
        }
    }

    .code-copy {
        @apply absolute top-3 right-3 text-gray-600 hover:text-gray-300 dark:text-gray-500 dark:hover:text-gray-200 hidden;
    }

    .admonitionblock {
        @apply border-l-4 border rounded-md border-gray-300 dark:border-gray-600 my-6 overflow-x-auto;

        table {
            @apply my-0;

            td.icon {
                @apply hidden;
            }

            .content {
                @apply px-6;
            }

            .title {
                @apply text-lg font-bold dark:text-gray-100 text-gray-800 mt-2;
            }
        }
    }

    .admonitionblock.note {
        @apply border-l-cyan-600 ;
    }

    .admonitionblock.tip {
        @apply border-l-green-600;
    }

    .admonitionblock.warning {
        @apply border-l-orange-600;
    }

    .admonitionblock.caution {
        @apply border-l-red-600;
    }

    .colist,
    .olist,
    .ulist {
        li p{
            @apply my-1;
        }
    }

    .videoblock iframe{
        @apply w-full aspect-video;
    }

    .listingblock {

        .title + .content {
            pre {
                @apply mt-2;
            }
        }
    }
}